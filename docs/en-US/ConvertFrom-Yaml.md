---
external help file: Yayaml.dll-Help.xml
Module Name: Yayaml
online version: https://www.github.com/jborean93/PowerShell-Yayaml/blob/main/docs/en-US/ConvertFrom-Yaml.md
schema: 2.0.0
---

# ConvertFrom-Yaml

## SYNOPSIS
Converts a YAML-formatted string to an object usable in PowerShell.

## SYNTAX

```
ConvertFrom-Yaml [-InputObject] <String[]> [-NoEnumerate] [-Schema <YamlSchema>] [<CommonParameters>]
```

## DESCRIPTION
The `ConvertFrom-Yaml` cmdlet converts a YAML formatted string to an object that can be read in PowerShell.
The shape of this object is dependent on the YAML string that is being converted.
Dictionary values are outputted as an `OrderedDictionary` and list values are outputted as an `Object[]`.

By default, the YAML 1.2 core schema will be used when parsing values.
Use the `-Schema` parameter to control what schema is used or to provide a custom schema handler.

To generate a YAML string from any object, use the [ConvertTo-Yaml](./ConvertTo-Yaml.md) cmdlet.
See [about_YamlParsing](./about_YamlParsing.md) for more information on parsing YAML strings.

## EXAMPLES

### Example 1 - Convert YAML string to object
```powershell
PS C:\> $obj = ConvertFrom-Yaml -InputObject @'
foo: bar
'@
PS C:\> $obj.foo  # bar
```

Converts the YAML string to a Dictionary object.
The YAML keys can be accessed in the dictionary like any other dictionary object in PowerShell.

### Example 2 - Convert YAML from file to an object
```powershell
PS C:\> Get-Content ci.yml | ConvertFrom-Yaml
```

Reads the contents of the file `ci.yml` and converts it from the YAML string to an object.

### Example 3 - Convert list with single element
```powershell
PS C:\> $yaml = @'
- entry
'@
PS C:\> $obj1 = ConvertFrom-Yaml $yaml
PS C:\> $obj2 = ConvertFrom-Yaml $yaml -NoEnumerate
PS C:\> $obj1.GetType()  # String
PS C:\> $obj2.GetType()  # object[]
```

Parses a YAML string of a list with and without `-NoEnumerate`.
The `$obj1` will contain just `entry` as a string as the output was enumerated internally.
The `$obj2` will be the array with a single entry of `entry` as the output was not enumerated internally.

### Example 4 - Convert YAML using 1.2 JSON Schema
```powershell
PS C:\> $obj = ConvertFrom-Yaml 'foo: True' -Schema Yaml12JSON
PS C:\> $obj.foo.GetType()  # String
```

Parses a YAML string with the YAML 1.2 JSON Schema.
This schema is a stricter subset of the YAML 1.2 Core schema, for example boolean types are only treated as boolean if they are in lower case.

### Example 5 - Convert YAML with custom tag support
```powershell
PS C:\> $yaml = @'
key: !!hex_string 74657374
'@
PS C:\> $schema = New-YamlSchema -ParseTag @{
    'tag:yaml.org,2002:hex_string' = {
        param ([string]$Value)
        $bytes = [System.Convert]::FromHexString($Value)
        [System.Text.Encoding]::UTF8.GetString($bytes)
    }
}
PS C:\> $obj = ConvertFrom-Yaml -InputObject $yaml -Schema $schema
PS C:\> $obj.key  # test
```

Defines a custom schema with a tag handler for the `tag:yaml.org,2002:hex_string` tag.
When this tag is encountered the custom ScriptBlock specified for the tag is run to transform the raw value into a user specific value.

## PARAMETERS

### -InputObject
The YAML strings to convert to objects.
If multiple strings are specified on the parameter or through the pipeline input, they are joined together with a newline before being parsed.

```yaml
Type: String[]
Parameter Sets: (All)
Aliases:

Required: True
Position: 0
Default value: None
Accept pipeline input: True (ByPropertyName, ByValue)
Accept wildcard characters: False
```

### -NoEnumerate
Specifies that the output from the YAML parse operation is not enumerated.
If the YAML string has a root object that is a list/array, each entry will be enumerated as individual objects.
By specifying `-NoEnumerate`, the list/array itself is output as an individual object preserving the raw array type.

```yaml
Type: SwitchParameter
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Schema
The custom YAML schema to use when parsing the YAML string.
This can be a custom schema generated by [New-YamlSchema](./New-YamlSchema.md) or one of the following strings:

+ `Blank` - no schema data is used, scalar values are read as strings

+ `Yaml11` - YAML 1.1 rules

+ `Yaml12` - YAML 1.2 rules

+ `Yaml12JSON` - Subset of YAML 1.2 that are stricter for JSON compatibility

```yaml
Type: YamlSchema
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### CommonParameters
This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see [about_CommonParameters](http://go.microsoft.com/fwlink/?LinkID=113216).

## INPUTS

### System.String[]
The YAML string values to process.

## OUTPUTS

### System.Object
The processed YAML object. The output type is dependent on the input string that was parsed. Lists are output as `object[]` and dictionary values are output as `OrderedDictionary`.

## NOTES
See [about_YamlParsing](./about_YamlParsing.md) for more information around how a YAML string is turnd into an object.

## RELATED LINKS
